const slides = [
    {
        id: "0",
        image: "",
        title: "세계의 끝",
        text: "역사를 바꾼 우연한 사건\n\n클릭하거나 엔터를 눌러 시작하세요"
    },
    // 1장
    {
        id: "1-title",
        image: "",
        title: "1. 역사를 바꾼 우연한 사건",
        text: ""
    },
    {
        id: "1-1",
        image: "",
        title: "",
        text: "6,500만 년 전, 백악기 후기의 평범한 하루였다.\n그날 지구는 평온한 하루를 보내고 있었다."
    },
    {
        id: "1-2",
        image: "",
        title: "",
        text: "그때는 각 대륙의 형태와 위치가 지금과 달랐다.\n공룡은 주로 곤드와나 대륙과 로라시아 대륙 두 곳에 분포하고 있었다.\n곤드와나 대륙은 지금의 아프리카와 남아메리카를 합친 것만큼 컸다.\n로라시아 대륙은 훗날 북아메리카가 된 곳이다."
    },
    {
        id: "1-3",
        image: "",
        title: "",
        text: "그날 대륙의 모든 생명들은 생존을 위해 분주하게 움직였다.\n티라노사우루스 한 마리가 곤드와나 대륙의 소철나무 숲 가운데서 갓 잡은 도마뱀을 먹고 있었다.\n그는 꼬리 쪽을 입으로 던져 넣더니 맛이 아주 좋은 듯 우적우적 씹기 시작했다.\n그 순간 그는 이 세상과 자신의 생활이 꽤나 만족스럽게 느껴졌다."
    },
    {
        id: "1-4",
        image: "",
        title: "",
        text: "티라노사우루스의 왼발에서 1미터쯤 떨어진 곳에 작은 개미굴이 있었다.\n1,000마리쯤 되는 개미가 생활하고 있었다.\n올해는 건기가 길어져 지내기가 점점 더 힘들어졌다.\n모두들 벌써 이틀이나 굶었다."
    },
    {
        id: "1-5",
        image: "",
        title: "",
        text: "티라노사우루스는 도마뱀을 다 먹어 치운 후, 나무 그늘 아래에 만족스럽게 누워 낮잠을 즐겼다.\n그가 바닥에 드러누운 순간 개미굴에는 어마어마한 지진이 일어났다.\n잠시 후 또 지진이 일어나고 공룡은 앞 발톱을 입 안으로 집어넣고 거대한 이 사이를 마구 쑤셔 댔다.\n개미들은 잇새에 도마뱀 고기가 끼어 견디기 힘들었던 것임을 곧바로 알아챘다."
    },
    {
        id: "1-6",
        image: "",
        title: "",
        text: "개미굴의 대장은 작은 풀 위로 올라가 페로몬을 분비했다.\n페로몬에 닿은 개미들은 모두 대장의 뜻을 이해하고 개미 떼가 더듬이를 흔들어 대자 흥분의 물결이 일었다.\n이윽고 개미들은 대장을 따라 티라노사우루스를 향해 다가갔다."
    },
    {
        id: "1-7",
        image: "",
        title: "",
        text: "잠시 후 개미들은 티라노사우루스의 앞 발톱을 목표로 기어오르기 시작했다.\n티라노사우루스는 팔뚝 위의 개미 떼를 발견하고 다른 팔을 휘둘러 떼어 내려 했다.\n그러자 대장이 곧바로 앞발을 들어 공룡의 입을 가리켰다.\n다른 개미들 역시 대장의 모습을 따라 일제히 입을 가리켰다."
    },
    {
        id: "1-8",
        image: "",
        title: "",
        text: "티라노사우루스는 잠시 어리둥절했지만 개미의 뜻을 이해할 것 같았다.\n그는 들고 있던 팔을 내려놓고 큰 입을 확 벌리고 손톱 끝을 그의 이빨에 갖다 대어 팔뚝에서 이빨까지 통하는 다리를 만들었다.\n개미들은 잠시 망설이다가 대장이 먼저 손톱 끝으로 다가가자 뒤를 따랐다."
    },
    {
        id: "1-9",
        image: "",
        title: "",
        text: "개미들은 반질반질한 원뿔 모양의 손톱 끝에 붙어 서서 공룡의 입 안을 살펴보았다.\n피비린내에 절은 축축한 바람이 정면에서 불어오고, 끝없이 깊은 어둠 속에서는 '쿠르릉' 하는 소리가 들려왔다.\n개미들은 손톱 끝에서 공룡의 이빨로 잇달아 올라탔다.\n그리고 하얗고 매끄러운 이빨 절벽을 따라 아래로 미끄러져 내려갔다."
    },
    {
        id: "1-10",
        image: "",
        title: "",
        text: "넓은 잇몸에 도착한 개미들은 잇새에 낀 도마뱀의 분홍색 살점을 힘센 양턱으로 물어뜯기 시작했다.\n개미 1,000여 마리가 바쁘게 돌아다닌 결과, 티라노사우루스의 이빨 사이에 끼어 있던 고기는 금세 말끔히 제거됐다.\n티라노사우루스는 불쾌감이 사라졌다.\n그는 후련한 듯 한숨을 내쉴 뿐이었다."
    },
    {
        id: "1-11",
        image: "",
        title: "",
        text: "갑자기 불어온 허리케인 같은 바람이 이빨 사이를 지나며 개미들을 밖으로 날려 보냈다.\n개미 떼는 무사히 안착했다.\n배불리 먹은 개미들은 개미굴로 돌아갔고, 티라노사우루스 역시 편안하게 잠이 들었다.\n아무도 몰랐다. 이 고요한 순간에 지구의 역사가 다른 방향으로 틀어졌다는 것을."
    },
    // 2장
    {
        id: "2-title",
        image: "",
        title: "2. 백악기 문명에 닥친 위기",
        text: ""
    },
    {
        id: "2-1",
        image: "",
        title: "",
        text: "그로부터 5만 년이라는 시간이 쏜살같이 흘렀다.\n공룡과 개미의 우정은 계속 이어졌고, 두 종족은 힘을 합쳐 전 지구를 뒤덮는 엄청난 백악기 문명을 건설했다."
    },
    {
        id: "2-2",
        image: "",
        title: "",
        text: "공룡들은 각 대륙에 1만 미터가 넘는 높은 빌딩들을 건설했다.\n공룡들이 쓰는 우산은 서커스단의 커다란 천막만 했고, 그들이 타는 자동차는 우리가 사는 건물 한 채만큼이나 컸다."
    },
    {
        id: "2-3",
        image: "",
        title: "",
        text: "하늘에는 대형 선박만큼 거대한 비행기들이 천둥 같은 소리를 내며 날아다녔고,\n공룡들은 이미 우주 탐험에도 성공해 지구 궤도에 수많은 인공위성을 띄워 놓았다."
    },
    {
        id: "2-4",
        image: "",
        title: "",
        text: "하지만 공룡들은 몸집이 너무 크고 손가락이 투박해서 정밀한 일을 할 수 없었다.\n그 빈자리를 개미들이 채웠다. 개미들의 세상 역시 눈부시게 발전했다.\n개미들은 태양 에너지를 모아 전기를 만들었고, 쌀알만큼 작은 컴퓨터를 발명했다."
    },
    {
        id: "2-5",
        image: "",
        title: "",
        text: "두 세계는 서로 없어서는 안 될 사이가 되었다.\n공룡 공장의 정밀한 기계 조작과 수리는 모두 개미들이 맡았고,\n공룡이 아프면 개미 의사들이 공룡의 콧구멍이나 입을 통해 몸속으로 들어가 직접 장기를 수술해 주기도 했다."
    },
    {
        id: "2-6",
        image: "",
        title: "",
        text: "그러나 공룡들의 숫자가 너무 많아지면서 환경이 오염되고,\n두 공룡 국가인 곤드와나 제국과 로라시아 공화국 사이에 핵전쟁의 위험이 커졌다.\n평화롭던 문명에 어두운 그림자가 드리워졌다.\n참다못한 개미들은 공룡들에게 환경 보호를 요구하며 전면 파업을 선언하고 말았다."
    },
    // 3장
    {
        id: "3-title",
        image: "",
        title: "3. 개미 총파업과 황제의 분노",
        text: ""
    },
    {
        id: "3-1",
        image: "",
        title: "",
        text: "곤드와나 제국의 황궁, 다다쓰 황제는 커다란 소파에 누워 왼쪽 눈을 가린 채 괴로워하고 있었다.\n눈에 염증이 생겨 수술이 급했지만, 수술을 해줄 개미 의사들이 파업을 하고 모두 사라졌기 때문이었다."
    },
    {
        id: "3-2",
        image: "",
        title: "",
        text: "\"이런 쳐 죽일 놈들! 온 나라에 개미 의사가 단 한 마리도 없단 말이냐!\" 황제가 고함을 쳤다.\n의료 대신은 고개를 숙이며 대답했다.\n\"그렇습니다, 폐하. 개미들이 없어서 수술을 기다리는 공룡들이 이미 공황 상태에 빠졌습니다.\""
    },
    {
        id: "3-3",
        image: "",
        title: "",
        text: "국무 대신도 어두운 표정으로 보고했다.\n\"폐하, 개미들이 일을 안 하니 전국 공장의 3분의 2가 멈췄고 도시 곳곳에 전기도 끊겼습니다.\n공룡의 손가락으로는 도저히 기계를 만질 수가 없습니다.\"\n화가 머리 끝까지 난 황제는 공룡 노동자들에게 직접 기계를 고치라고 명령했다."
    },
    {
        id: "3-4",
        image: "",
        title: "",
        text: "그러자 국무 대신이 빨간 전선 두 가닥을 가져와 황제 앞에 놓았다. \"폐하, 이 두 전선을 한번 이어 보시겠습니까?\"\n황제는 온 힘을 다해 50센티미터나 되는 거대한 손가락을 웅크려 전선을 집으려 했지만,\n미끄러운 손톱 끝에 걸려 전선은 자꾸 땅바닥으로 떨어졌다. 황제는 짜증이 나서 전선을 내동댕이쳤다."
    },
    {
        id: "3-5",
        image: "",
        title: "",
        text: "과학 대신이 한숨을 내쉬며 말했다.\n\"우리는 그동안 개미들이 만들어 준 편안한 세상에 너무 익숙해져 있었습니다.\n개미가 없으면 우리는 전선 하나도 잇지 못하는 바보가 됩니다.\"\n하지만 황제는 고집을 꺾지 않았다.\n\"우리 공룡 제국이 저런 작은 벌레들에게 무릎을 꿇을 순 없다! 개미 도시 몇 군데를 공격해서 본때를 보여 줘라!\""
    },
    // 4장
    {
        id: "4-title",
        image: "",
        title: "4. 비밀 전쟁 계획과 개미들의 결단",
        text: ""
    },
    {
        id: "4-1",
        image: "",
        title: "",
        text: "공룡들의 공격으로 개미 도시 셋이 순식간에 사라지자, 개미 연방의 최고 집정관 카치카는 연단 위에 올라가 외쳤다.\n\"이제 확실해졌습니다. 공룡을 없애든지, 아니면 지구와 함께 멸망하든지 둘 중 하나입니다!\""
    },
    {
        id: "4-2",
        image: "",
        title: "",
        text: "그때 개미 군대의 뤄례 총사령관이 신무기를 공개했다. 바로 '변색 폭발 입자'였다.\n이 입자는 하얀색이었지만, 빨간 전선에 붙으면 빨간색으로, 초록 전선에 붙으면 초록색으로 감쪽같이 변했다.\n공룡들은 절대로 발견할 수 없는 비밀 폭탄이었다."
    },
    {
        id: "4-3",
        image: "",
        title: "",
        text: "개미들은 두 가지 무서운 작전을 세웠다. 첫째, 전선 공격작전.\n2억 마리의 개미가 공룡 세계의 모든 정밀 기기 전선에 폭탄을 붙여 기계를 마비시키는 것이었다.\n둘째, 두뇌 공격작전. 2,000만 마리의 개미가 공룡 지도자 500만 마리의 머릿속으로 들어가 뇌혈관에 폭탄을 붙이는 것이었다."
    },
    {
        id: "4-4",
        image: "",
        title: "",
        text: "모든 폭탄은 한 달 뒤 자정에 동시에 터지도록 설계되었다. 과학자 차오예 박사는 걱정이 되어 말했다.\n\"공룡들이 사라지면 우리가 그들의 상상력과 과학 지식을 배울 수 없게 됩니다.\n그리고 시스템이 무너지면 어떤 일이 벌어질지 아무도 모릅니다. 우선 그들의 대화를 엿들을 도청기를 설치해야 합니다.\""
    },
    // 5장
    {
        id: "5-title",
        image: "",
        title: "5. 황제와의 대면, 그리고 늦은 깨달음",
        text: ""
    },
    {
        id: "5-1",
        image: "",
        title: "",
        text: "개미들의 작전은 착착 진행되었다. 한 개미 부대가 통신 빌딩의 서버 내부로 들어가 메인보드에 폭발 입자를 설치했다.\n가장 중요한 작전은 황제의 침실에서 이루어졌다.\n병정개미 두 마리가 다다쓰 황제의 콧구멍 속으로 잠입해 들어가 뇌혈관에 노란 폭발 입자를 붙이고, 귓속으로 이동해 고막에 도청기를 설치했다."
    },
    {
        id: "5-2",
        image: "",
        title: "",
        text: "개미 연방의 사령부, 카치카와 뤄례는 작전 상황을 지켜보고 있었다. 그때 도청기에서 희미한 대화가 흘러나왔다.\n다다쓰와 로라시아 총통 둬둬미의 목소리였다."
    },
    {
        id: "5-3",
        image: "",
        title: "",
        text: "다다쓰의 목소리: \"개미들이나 핵전쟁 위협에 비하면 명월과 해신은 지구 문명에 당연히 더 큰 위험 요소지요.\n그럼 우선 그 문제를 이야기해 봅시다. 명월의 일로 우리를 탓하는 것은 부당합니다. 해신이 먼저 카운트다운을 시작했잖소!\""
    },
    {
        id: "5-4",
        image: "",
        title: "",
        text: "둬둬미의 목소리: \"이 게임은 너무 위험합니다. 로라시아는 즉시 명월의 카운트다운을 중지하시오. 제 시간으로 돌린다면 곤드와나도 그렇게 할 테니.\"\n카치카가 말했다. \"나는 저들이 무슨 말을 하는지 도무지 모르겠소.\""
    },
    {
        id: "5-5",
        image: "",
        title: "",
        text: "차오예는 녹음기를 멈추고 더듬이를 떨었다. \"명월과 해신이 무엇일까요? '카운트다운'은 또 무엇일까요?\n저들의 대화에서 그것이 핵무기보다도 더 거대한 비밀이라는 것을 알 수 있습니다.\n우리가 정말 엄청난 것을 놓치고 있는 것 같습니다.\""
    },
    {
        id: "5-6",
        image: "",
        title: "",
        text: "차오예 박사는 카치카에게 즉시 작전 중단을 건의했지만 거절당했다. 공룡 세계가 이미 멸망을 향해 가고 있다는 믿음 때문이었다.\n결국 차오예는 홀로 황궁으로 잠입했다. 이대로는 안 된다. 이 위험이 무엇인지 알아야 했다."
    },
    {
        id: "5-7",
        image: "",
        title: "",
        text: "곤드와나 황궁 회의실. 공룡 수뇌부가 모여 긴급회의를 하고 있었다. 그때 문이 열리고 숨어 있던 비서가 들어왔다.\n비서: \"폐하… 개미 연방의 수석 과학자 차오예가 뵙기를 청합니다! 그는 연방을 배신하고 도망쳐 왔다고 합니다!\""
    },
    {
        id: "5-8",
        image: "",
        title: "",
        text: "다다쓰는 이미 지친 상태였다. 그는 잠시 눈을 감았다가 뜨고는 나지막이 말했다. \"좋다. 불러와라.\"\n차오예 박사가 테이블 위로 기어 올라갔다.\n차오예: \"저는… 지구를 구하기 위해 왔습니다. 폐하. 명월과 해신이 무엇입니까? 그리고 그 '카운트다운'의 정체는 무엇입니까?\""
    },
    {
        id: "5-9",
        image: "",
        title: "",
        text: "다다쓰 황제의 얼굴에 짙은 당혹감이 스쳤다. 그는 작은 개미가 이 거대한 비밀을 알고 있다는 사실에 엄청나게 놀랐다.\n그리고 답을 알려줘야 할 필요성을 느꼈다.\n다다쓰: \"명월과 해신은… ... ... 이런 것이다.\""
    },
    {
        id: "5-10",
        image: "",
        title: "",
        text: "차오예는 그 말에 경악을 금치 못했다.\n명월과 해신을 알게 된 이상 아무런 대책없이 갑자기 공룡 황제와 대신들과 중요한 관리들이 모두 죽게 된다면!!! 막아야했다.\n그때, 딸깍. 아주 작고 미세한, 그러나 온 세계의 운명을 바꾼 소리가 들렸다."
    },
    {
        id: "5-11",
        image: "",
        title: "",
        text: "공룡들의 머릿속에 설치된 500만 개의 폭발 입자가 동시에 터졌다.\n거대한 몸들이 하나둘 쓰러졌고, 다다쓰 황제는 마지막 말을 끝맺지 못하고 테이블을 뒤집으며 숨을 거두었다."
    },
    {
        id: "5-12",
        image: "",
        title: "",
        text: "차오예는 황제의 시체 아래에 깔릴 뻔했다가 간신히 수화기 위로 기어 올라갔다.\n차오예: \"집정관님! 저 차오예입니다! 멈춰야...! 멈춰야 합니다!\"\n하지만 통신 설비는 이미 '전선 공격작전'으로 마비된 상태였다. 황궁의 통신망은 죽어 있었다. 모든 것이 늦었다."
    },

];

let currentSlideIndex = 0;

const slideContainer = document.getElementById('slide-container'); // Added container ref
const slideImage = document.getElementById('slide-image');
const slideTitle = document.getElementById('slide-title');
const slideText = document.getElementById('slide-text');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const slideIndicator = document.getElementById('slide-indicator');
const imagePlaceholder = document.getElementById('image-placeholder');
const placeholderText = document.getElementById('placeholder-text');

function showSlide(index) {
    if (index < 0) index = 0;
    if (index >= slides.length) index = slides.length - 1;

    currentSlideIndex = index;
    const slide = slides[index];

    // Update Text
    slideTitle.innerText = slide.title || "";
    slideText.innerText = slide.text || "";

    // Update Image
    const imagePath = `${index + 1}.png`; // 1.png, 2.png, ...
    slideImage.src = imagePath;
    slideImage.alt = `Slide ${index + 1} Image`;
    
    // Update Layout (Alternating)
    // Even index (0, 2...): Image Left (row)
    // Odd index (1, 3...): Image Right (row-reverse)
    if (window.innerWidth >= 768) { // Only alternate on desktop
         if (index % 2 === 0) {
            slideContainer.style.flexDirection = 'row';
        } else {
            slideContainer.style.flexDirection = 'row-reverse';
        }
    } else {
         slideContainer.style.flexDirection = 'column';
    }
   

    // Update Indicator
    if (slideIndicator) {
        slideIndicator.innerText = `${index + 1} / ${slides.length}`;
    }

    // Update Buttons
    if (prevBtn) prevBtn.disabled = index === 0;
    if (nextBtn) nextBtn.disabled = index === slides.length - 1;
}

function nextSlide() {
    if (currentSlideIndex < slides.length - 1) {
        showSlide(currentSlideIndex + 1);
    }
}

function prevSlide() {
    if (currentSlideIndex > 0) {
        showSlide(currentSlideIndex - 1);
    }
}

document.addEventListener('DOMContentLoaded', () => {
    // Initial Render
    showSlide(0);

    // Event Listeners
    if (prevBtn) prevBtn.addEventListener('click', prevSlide);
    if (nextBtn) nextBtn.addEventListener('click', nextSlide);

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
            nextSlide();
        } else if (e.key === 'ArrowLeft') {
            prevSlide();
        }
    });

    // Click on slide to advance (optional but common)
    const contentArea = document.getElementById('slide-content');
    if (contentArea) {
        contentArea.addEventListener('click', nextSlide);
    }
});